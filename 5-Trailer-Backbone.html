<!DOCTYPE html> 
<html> 
<head> 
	<title>Latest Movies ! </title>

	<meta name="viewport" content="width=device-width, initial-scale=1" /> 
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  
	<link rel="stylesheet" href="./js/lib/jqm/jquery.mobile-1.3.0.css" />
  <script src="./js/lib/jquery-1.8.2.js"></script>

  <!-- Adding deafult button -->
  <!-- fade is the default transition style -->
  <!-- Backbone.js and JQuery to work together, disable few things
  http://jquerymobile.com/demos/1.3.0-beta.1/docs/pages/backbone-require.html -->
  <script type="text/javascript">
    $(document).bind('mobileinit', function(){
      //$.mobile.page.prototype.options.addBackBtn = true;
      $.mobile.defaultPageTransition = "slide";
      $.mobile.linkBindingEnabled = false;
      $.mobile.hashListeningEnabled = false;
    });
  </script>

  
  <script src="./js/lib/jqm/jquery.mobile-1.3.0.js"></script>

  <!-- to avoid header text from being 
       truncated overwrite the margin -->
  <style type="text/css">
    .ui-header .ui-title {
     margin-right: 10%;
     margin-left: 10%;
   }
  </style>
</head> 
<body> 

<div data-role="page" id="mainPage" data-theme="a">

	<div data-role="header" data-theme="a">
		<h4>Movies near 94041</h4>
	</div>

	<div data-role="content" id="Movies">	    
	</div>

</div>


<script type="text/x-mustache-template" id="MovieListView-template">
  <ul data-role="listview" data-inset="true" data-filter="true" id="{{movieContainerId}}">
    {{#movieItemDetails}}
      <li><a href="{{movieDetailUrl}}">{{movieName}}</a></li>
    {{/movieItemDetails}}
  </ul>

</script>

<script type="text/x-mustache-template" id="MovieDetails-template">
  <div data-role="page" data-theme="a" id="{{movieDetailPageId}}">
    <div data-role="header">
      <h1> {{movieName}} </h1>
    </div>
    <div data-role="content">
      <a href="javascript:void(0)" data-role="button" data-theme="a" onclick="alert('Show this trailer  {{trailerUrl}}');">Trailer</a>
        <img border='0' src={{moviePicUrl}} width=204 height=288></img>
    </div>
    <div data-role="footer">
      <h4> {{movieName}} </h4>
    </div>
  </div>
</script>

<!-- External libraries -->
<script src="./js/lib/underscore-1.4.4.js"></script>
<script src="./js/lib/backbone-0.9.10.js"></script>
<script src="./js/lib/mustache.js"></script>

<!-- Main application javascript -->
<script src="./js/app/Application.js"></script>

<!-- Routers -->
<script src="./js/app/router/MovieListRouter.js"></script>

<!-- Views -->
<script src="./js/app/view/MovieListView.js"></script>
<script src="./js/app/view/MovieDetailView.js"></script>

<script type="text/javascript"> $(function(){ MoviesApp.boot($('#Movies')); });</script>
</body>
</html>

<!-- Main points
  * Handling the back button functionality on your own
  * Handling the a href functionality on your own, disbaling linkBinding and hashListening and handling back button
-->
